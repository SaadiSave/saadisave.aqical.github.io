document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".output").forEach(a=>{a.style.width=parseInt(window.innerWidth-290)}),document.querySelector("#type").onchange=()=>{"Comp"===document.querySelector("#type").value?(document.querySelector("#system").innerHTML="<option value=\"EvN\">EAQI vs NAQI</option><option value=\"EvM\">EAQI vs MMAQI</option><option value=\"MvN\">MMAQI vs NAQI</option>",document.querySelector("#co").style.display="block",document.querySelectorAll(".output").forEach(a=>{a.innerHTML=""})):(document.querySelector("#system").innerHTML="<option value=\"EAQI\">EAQI</option><option value=\"NAQI\">NAQI</option><option value=\"MMAQI\">MMAQI</option>",document.querySelector("#co").style.display="none",document.querySelector("#valueCO").value="",document.querySelectorAll(".output").forEach(a=>{a.innerHTML=""}))},document.querySelector("#input").addEventListener("reset",()=>{document.querySelectorAll(".output").forEach(a=>{a.innerHTML=""}),document.querySelector("#type").value="SI",document.querySelector("#system").innerHTML="<option value=\"EAQI\">EAQI</option><option value=\"NAQI\">NAQI</option><option value=\"MMAQI\">MMAQI</option>s",document.querySelector("#co").style.display="none",document.getElementById("message").children[0].innerHTML=""}),document.querySelector("#system").onchange=()=>{document.querySelectorAll(".output").forEach(a=>{a.innerHTML=""}),document.querySelector("#result3").style.backgroundColor="#e0e2db",document.querySelector("#result3").color="black","SI"===document.querySelector("#type").value&&"EAQI"===document.querySelector("#system").value?(document.querySelector("#co").style.display="none",ddocument.querySelector("#valueCO").value=""):document.querySelector("#co").style.display="block"},document.querySelector("#submit").onclick=()=>{let c={pm2:convert("pm2",parseInt(document.querySelector("#valuePM2").value),document.querySelector("#unitPM2").value),pm10:convert("pm10",parseInt(document.querySelector("#valuePM10").value),document.querySelector("#unitPM10").value),no2:convert("no2",parseInt(document.querySelector("#valueNO2").value),document.querySelector("#unitNO2").value),so2:convert("so2",parseInt(document.querySelector("#valueSO2").value),document.querySelector("#unitSO2").value),o3:convert("o3",parseInt(document.querySelector("#valueO3").value),document.querySelector("#unitO3").value),co:convert("co",parseInt(document.querySelector("#valueCO").value),document.querySelector("#unitCO").value)};for(const a in c)isNaN(c[a])&&delete c[a];if(0!==Object.keys(c).length){var d=new dict(Object.keys(c),Object.values(c)),a=new dict(Object.keys(c),Object.values(c));type=document.querySelector("#type").value,system=document.querySelector("#system").value,document.querySelector("#input").reset(),"Comp"===type?1===d.keys.length&&"co"===d.keys[0]?document.getElementById("message").children[0].innerHTML="Atleast 1 field other than CO required":(document.getElementById("message").children[0].innerHTML="","EvN"===system?(A=new Eaqi(d),A.setres(),A.setdes(),A.setcol(),O=new Naqi(a),O.setres(),O.setdes(),O.setcol(),idx=A.idx,res=O.res,document.querySelector("#result2").innerHTML=`NAQI<br>${res}<br>${O.des.replace(/\n/g,"<br>")}`,document.querySelector("#result2").style.backgroundColor=O.col,document.querySelector("#result2").style.color=textcol(O.col),document.querySelector("#result1").innerHTML=`EAQI<br>${A.res}<br>${A.des.replace(/\n/g,"<br>")}`,document.querySelector("#result1").style.backgroundColor=A.col,document.querySelector("#result1").style.color=textcol(A.col),500>res&&(a=compare([idx,6],[res,500]),document.querySelector("#result3").innerHTML=0<a?`NAQI is ${a}% less than EAQI`:`NAQI is ${a}% greater than EAQI`)):"EvM"===system?(A=new Eaqi(d),A.setres(),A.setdes(),A.setcol(),O=new Mmaqi(a),O.setres(),O.setdes(),O.setcol(),idx=A.idx,res=O.res,document.querySelector("#result2").innerHTML=`MMAQI<br>${res}<br>${O.des.replace(/\n/g,"<br>")}`,document.querySelector("#result2").style.backgroundColor=O.col,document.querySelector("#result2").style.color=textcol(O.col),document.querySelector("#result1").innerHTML=`EAQI<br>${A.res}<br>${A.des.replace(/\n/g,"<br>")}`,document.querySelector("#result1").style.backgroundColor=A.col,document.querySelector("#result1").style.color=textcol(A.col),500>res&&(a=compare([idx,6],[res,500]),document.querySelector("#result3").innerHTML=0<a?`MMAQI is ${a}% less than EAQI`:`MMAQI is ${a}% greater than EAQI`)):"MvN"===system&&(A=new Naqi(d),A.setres(),A.setdes(),A.setcol(),O=new Mmaqi(a),O.setres(),O.setdes(),O.setcol(),resn=A.res,resm=O.res,document.querySelector("#result1").innerHTML=`MMAQI<br>${resm}<br>${O.des.replace(/\n/g,"<br>")}`,document.querySelector("#result1").style.backgroundColor=O.col,document.querySelector("#result1").style.color=textcol(O.col),document.querySelector("#result2").innerHTML=`NAQI<br>${resn}<br>${A.des.replace(/\n/g,"<br>")}`,document.querySelector("#result2").style.backgroundColor=A.col,document.querySelector("#result2").style.color=textcol(A.col),maxn=500,maxm=500,a=compare([resm,maxm],[resn,maxn]),0<a?document.querySelector("#result3").innerHTML=`NAQI is ${a}% less than MMAQI`:(a*=-1,document.querySelector("#result3").innerHTML=`NAQI is ${a}% greater than MMAQI`))):(document.getElementById("message").children[0].innerHTML="","EAQI"===system?(A=new Eaqi(d),A.setres(),A.setdes(),A.setcol(),document.querySelectorAll(".output").forEach(a=>{"result3"!==a.id&&(a.style.backgroundColor=A.col,a.style.color=textcol(A.col)),a.style.display="block"}),document.querySelector("#result1").innerHTML=A.res,document.querySelector("#result2").innerHTML=A.des.replace(/\n/g,"<br>")):"NAQI"===system?(A=new Naqi(d),A.setres(),A.setdes(),A.setcol(),document.querySelectorAll(".output").forEach(a=>{"result3"!==a.id&&(a.style.backgroundColor=A.col,a.style.color=textcol(A.col)),a.style.display="block"}),document.querySelector("#result1").innerHTML=A.res,document.querySelector("#result2").innerHTML=A.des.replace(/\n/g,"<br>")):(A=new Mmaqi(d),A.setres(),A.setdes(),A.setcol(),document.querySelectorAll(".output").forEach(a=>{"result3"!==a.id&&(a.style.backgroundColor=A.col,a.style.color=textcol(A.col)),a.style.display="block"}),document.querySelector("#result1").innerHTML=A.res,document.querySelector("#result2").innerHTML=A.des.replace(/\n/g,"<br>")))}}});function isFloat(a){var b=event.which?event.which:event.keyCode;if(46!=b&&31<b&&(48>b||57<b))return!1;var c=a.srcElement.value.split(".");return!(1<c.length&&46==b)}function textcol(a){if(7!==a.length||"#"!==a[0])throw Error("Colour is not a valid hex string");const c=parseInt(a.slice(1,3),16),d=parseInt(a.slice(3,5),16),e=parseInt(a.slice(5),16);let[b,f,g]=[!1,!1,!1];105>=c&&(b=!0),105>=d&&(f=!0),105>=e&&(g=!0);const h=b&&f||f&&g||g&&b;return!0==!h?"#000000":"#ffffff"}